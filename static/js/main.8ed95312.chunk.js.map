{"version":3,"sources":["firebase.js","context/AuthContext.js","components/Signup.js","components/Dashboard.js","components/Login.js","components/ForgotPassword.js","components/PrivateRoute.js","components/UpdateProfile.js","components/App.js","index.js"],"names":["app","firebase","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","auth","AuthContext","React","createContext","useAuth","useContext","AuthProvider","children","useState","currentUser","setCurrentUser","loading","setLoading","useEffect","onAuthStateChanged","user","value","login","email","password","signInWithEmailAndPassword","signup","createUserWithEmailAndPassword","logout","signOut","resetPassword","sendPasswordResetEmail","updateEmail","updatePassword","Provider","Signup","emailRef","useRef","PasswordRef","passwordConfirmRef","error","setError","history","useHistory","e","a","preventDefault","current","push","console","log","Card","Body","className","Alert","variant","Form","onSubmit","Group","id","Label","Control","type","ref","required","Button","disabled","to","Dashboard","pushState","onClick","Login","ForgotPassword","message","setMessage","PrivateRoute","Component","component","rest","render","props","UpdateProfile","promises","Promise","all","then","catch","finally","defaultValue","placeholder","App","Container","style","minHeight","maxWidth","exact","path","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8ed95312.chunk.js","sourcesContent":["import firebase from \"firebase\";\r\nimport \"firebase/auth\";\r\n\r\nconst app = firebase.initializeApp({\r\n    apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n    authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n    projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\r\n    storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\r\n    messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\r\n    appId: process.env.REACT_APP_FIREBASE_APP_ID\r\n})\r\n\r\nexport const auth = app.auth()\r\nexport default app","import React, { useContext, useState, useEffect } from 'react'\r\nimport { auth } from '../firebase';\r\n\r\nconst AuthContext = React.createContext();\r\n\r\nexport function useAuth() {\r\n    return useContext(AuthContext);\r\n}\r\n\r\nexport function AuthProvider({ children }) {\r\n\r\n    const [currentUser, setCurrentUser] = useState();\r\n    const [loading, setLoading] = useState(true)\r\n\r\n    function signup(email, password) {\r\n        return auth.createUserWithEmailAndPassword(email, password)\r\n    }\r\n\r\n    function login(email, password) {\r\n        return auth.signInWithEmailAndPassword(email, password)\r\n    }\r\n\r\n    function logout() {\r\n        return auth.signOut()\r\n    }\r\n\r\n    function updateEmail(email) {\r\n        return currentUser.updateEmail(email)\r\n    }\r\n\r\n    function updatePassword(password) {\r\n        return currentUser.updatePassword(password)\r\n    }\r\n\r\n\r\n    function resetPassword(email) {\r\n        return auth.sendPasswordResetEmail(email)\r\n    }\r\n    useEffect(() => {\r\n        const unsubscribe = auth.onAuthStateChanged(user => {\r\n            setCurrentUser(user)\r\n            setLoading(false)\r\n        })\r\n\r\n        return unsubscribe\r\n    }, [])\r\n\r\n\r\n    const value = {\r\n        currentUser,\r\n        login,\r\n        signup,\r\n        logout,\r\n        resetPassword,\r\n        updateEmail,\r\n        updatePassword\r\n    }\r\n    return (\r\n        <AuthContext.Provider value={value}>\r\n            {!loading && children}\r\n        </AuthContext.Provider>\r\n    )\r\n}\r\n","import React, { useRef,useState } from 'react'\r\nimport { Card, Form, Button , Alert } from 'react-bootstrap'\r\nimport { useAuth } from '../context/AuthContext';\r\nimport { Link, useHistory } from 'react-router-dom';\r\n\r\nexport default function Signup() {\r\n    const emailRef = useRef();\r\n    const PasswordRef = useRef();\r\n    const passwordConfirmRef = useRef();\r\n    const {signup } = useAuth();\r\n    // const currentUser = useAuth();\r\n\r\n    const [error, setError] = useState(\"\");\r\n    const [loading, setLoading] = useState(false);\r\n    const history = useHistory()\r\n\r\n    async function handleSubmit(e) {\r\n        e.preventDefault();\r\n        // { currentUser && currentUser.email}\r\n        if (PasswordRef.current.value !== passwordConfirmRef.current.value) {\r\n            return setError(\"Passwords do not match\");\r\n        }\r\n\r\n        try {\r\n            setError(\"\")\r\n            setLoading(true)\r\n            await signup(emailRef.current.value, PasswordRef.current.value)\r\n            history.push(\"/firebase-react-auth\")\r\n        }\r\n        catch(e) {\r\n            console.log(e)\r\n            setError(\"Failed to create an account\")\r\n        }\r\n        setLoading(false)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Card>\r\n                <Card.Body>\r\n                    <h2 className=\"text-center mb-4\">Sign Up</h2>\r\n                    {/* {currentUser.email} */}\r\n                    {error && <Alert variant=\"danger\">{error}</Alert> }\r\n                </Card.Body>\r\n                <Form onSubmit={handleSubmit} className=\"p-3\">\r\n                    <Form.Group id=\"email\" className=\"px-3\">\r\n                        <Form.Label>Email</Form.Label>\r\n                        <Form.Control type=\"email\" ref={emailRef} required />\r\n                    </Form.Group>\r\n\r\n                    <Form.Group id=\"Password\" className=\"px-3\">\r\n                        <Form.Label>Password</Form.Label>\r\n                        <Form.Control type=\"password\" ref={PasswordRef} required />\r\n                    </Form.Group>\r\n\r\n                    <Form.Group id=\"password-confirm\" className=\"px-3\">\r\n                        <Form.Label>Password Confirmation</Form.Label>\r\n                        <Form.Control type=\"password\" ref={passwordConfirmRef} required />\r\n                    </Form.Group>\r\n\r\n                    <Button disabled={loading} className=\"w-100 mt-3\" type=\"submit\">\r\n                        Sign Up\r\n                    </Button>\r\n                </Form>\r\n            </Card>\r\n            <div className=\"w-100 text-center mt-2\">\r\n                Already Have an account ? <Link to=\"/firebase-react-auth/login\">Log In</Link>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n","import { Card, Button, Alert } from 'react-bootstrap'\r\nimport React, { useState } from 'react'\r\nimport { useAuth } from '../context/AuthContext'\r\nimport { Link, useHistory } from 'react-router-dom'\r\n\r\nexport default function Dashboard() {\r\n\r\n    const [error, setError] = useState(\"\")\r\n    const { currentUser, logout } = useAuth()\r\n    const history = useHistory()\r\n\r\n    async function handleLogout() {\r\n        setError(\"\")\r\n        try{\r\n            await logout()\r\n            history.pushState(\"/firebase-react-auth/login\")\r\n            \r\n        }catch{\r\n            setError( \"Failed to log out\")\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            <Card>\r\n                <Card.Body>\r\n                    <h2 className=\"text-center mb-4\">Profile</h2>\r\n                    {error && <Alert variant=\"danger\">{error}</Alert>}\r\n\r\n                    <strong>Email: </strong>{currentUser.email}\r\n                    <Link to=\"/firebase-react-auth/update-profile\" className=\"btn btn-primary w-100 mt-3\">Update Profile </Link>\r\n\r\n                </Card.Body>\r\n\r\n            </Card>\r\n            <div className=\"w-100 text-center mt-2\">\r\n                <Button variant=\"danger\" onClick={handleLogout}>Log Out</Button>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n","import React, { useRef,useState } from 'react'\r\nimport { Card, Form, Button , Alert } from 'react-bootstrap'\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { useAuth } from '../context/AuthContext';\r\n\r\n\r\nexport default function Login() {\r\n    const emailRef = useRef();\r\n    const PasswordRef = useRef();\r\n    const {login } = useAuth();\r\n    // const currentUser = useAuth();\r\n\r\n    const [error, setError] = useState(\"\");\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const history = useHistory()\r\n\r\n    async function handleSubmit(e) {\r\n        e.preventDefault();\r\n        // { currentUser && currentUser.email}\r\n       \r\n        try {\r\n            setError(\"\")\r\n            setLoading(true)\r\n            await login(emailRef.current.value, PasswordRef.current.value)\r\n            history.push(\"/firebase-react-auth\")\r\n        }\r\n        catch(e) {\r\n            console.log(e)\r\n            setError(\"Failed to log in\")\r\n        }\r\n        setLoading(false)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Card>\r\n                <Card.Body>\r\n                    <h2 className=\"text-center mb-4\">Log In</h2>\r\n                    {/* {currentUser.email} */}\r\n                    {error && <Alert variant=\"danger\">{error}</Alert> }\r\n                </Card.Body>\r\n                <Form onSubmit={handleSubmit} className=\"p-3\">\r\n                    <Form.Group id=\"email\" className=\"px-3\">\r\n                        <Form.Label>Email</Form.Label>\r\n                        <Form.Control type=\"email\" ref={emailRef} required />\r\n                    </Form.Group>\r\n\r\n                    <Form.Group id=\"Password\" className=\"px-3\">\r\n                        <Form.Label>Password</Form.Label>\r\n                        <Form.Control type=\"password\" ref={PasswordRef} required />\r\n                    </Form.Group>\r\n\r\n                    <Button disabled={loading} className=\"w-100 mt-3\" type=\"submit\">\r\n                        Log In\r\n                    </Button>\r\n                </Form>\r\n            <div className=\"w-100 text-center mt-3 mb-3\">\r\n                <Link to=\"/firebase-react-auth/forgot-password\">Forgot Password ?</Link>\r\n            </div>\r\n\r\n            </Card>\r\n            <div className=\"w-100 text-center mt-2\">\r\n                Need an account ? <Link to=\"/firebase-react-auth/signup\">Sign Up</Link>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n","import React, { useRef,useState } from 'react'\r\nimport { Card, Form, Button , Alert } from 'react-bootstrap'\r\nimport { Link } from 'react-router-dom';\r\nimport { useAuth } from '../context/AuthContext';\r\n\r\n\r\nexport default function ForgotPassword() {\r\n    const emailRef = useRef();\r\n    const {resetPassword } = useAuth();\r\n    // const currentUser = useAuth();\r\n\r\n    const [error, setError] = useState(\"\");\r\n    const [loading, setLoading] = useState(false);\r\n    const [message, setMessage] = useState(\"\")\r\n\r\n    async function handleSubmit(e) {\r\n        e.preventDefault();\r\n        // { currentUser && currentUser.email}\r\n       \r\n        try {\r\n            setMessage(\"\")\r\n            setError(\"\")\r\n            setLoading(true)\r\n            await resetPassword(emailRef.current.value)\r\n            setMessage('check your inbox for further instructions')\r\n        \r\n        }\r\n        catch(e) {\r\n            console.log(e)\r\n            setError(\"Failed to reset Password\")\r\n        }\r\n        setLoading(false)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Card>\r\n                <Card.Body>\r\n                    <h2 className=\"text-center mb-4\">Password Reset</h2>\r\n                    {/* {currentUser.email} */}\r\n                    {error && <Alert variant=\"danger\">{error}</Alert> }\r\n                    {message && <Alert variant=\"success\">{message}</Alert> }\r\n                </Card.Body>\r\n                <Form onSubmit={handleSubmit} className=\"p-3\">\r\n                    <Form.Group id=\"email\" className=\"px-3\">\r\n                        <Form.Label>Email</Form.Label>\r\n                        <Form.Control type=\"email\" ref={emailRef} required />\r\n                    </Form.Group>\r\n\r\n                    <Button disabled={loading} className=\"w-100 mt-3\" type=\"submit\">\r\n                        Reset Password\r\n                    </Button>\r\n                </Form>\r\n            <div className=\"w-100 text-center mt-3 mb-3\">\r\n                <Link to=\"/firebase-react-auth/login\">Log In</Link>\r\n            </div>\r\n\r\n            </Card>\r\n            <div className=\"w-100 text-center mt-2\">\r\n                Need an account ? <Link to=\"/firebase-react-auth/signup\">Sign Up</Link>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Redirect, Route } from 'react-router'\r\nimport { useAuth } from '../context/AuthContext'\r\n\r\nexport default function PrivateRoute( {component : Component , ...rest}) {\r\n\r\n    const {currentUser} = useAuth()\r\n    return (\r\n        <Route\r\n            {...rest}\r\n            render={props => {\r\n              return currentUser ? <Component {...props} /> : <Redirect to=\"/firebase-react-auth/login\" />\r\n            }}\r\n        ></Route>\r\n    )\r\n}\r\n","import React, { useRef,useState } from 'react'\r\nimport { Card, Form, Button , Alert } from 'react-bootstrap'\r\nimport { useAuth } from '../context/AuthContext';\r\nimport { Link, useHistory } from 'react-router-dom';\r\n\r\nexport default function UpdateProfile() {\r\n    const emailRef = useRef();\r\n    const PasswordRef = useRef();\r\n    const passwordConfirmRef = useRef();\r\n    const {currentUser , updatePassword , updateEmail } = useAuth();\r\n    // const currentUser = useAuth();\r\n\r\n    const [error, setError] = useState(\"\");\r\n    const [loading, setLoading] = useState(false);\r\n    const history = useHistory()\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        // { currentUser && currentUser.email}\r\n        if (PasswordRef.current.value !== passwordConfirmRef.current.value) {\r\n            return setError(\"Passwords do not match\");\r\n        }\r\n\r\n        const promises = []\r\n        setLoading(true)\r\n        setError(\"\")\r\n        if(emailRef.current.value !== currentUser.email){\r\n            promises.push(updateEmail(emailRef.current.value))\r\n        }\r\n\r\n        if(PasswordRef.current.value){\r\n            promises.push(updatePassword(PasswordRef.current.value))\r\n        }\r\n\r\n        Promise.all(promises).then( ()=>{\r\n            history.push(\"/firebase-react-auth\")\r\n        }).catch(() =>{\r\n            setError(\"Failed to update profile\")\r\n        }).finally( ()=>{\r\n            setLoading(false)\r\n        })\r\n        \r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Card>\r\n                <Card.Body>\r\n                    <h2 className=\"text-center mb-4\">Update Profile</h2>\r\n                    {/* {currentUser.email} */}\r\n                    {error && <Alert variant=\"danger\">{error}</Alert> }\r\n                </Card.Body>\r\n                <Form onSubmit={handleSubmit} className=\"p-3\">\r\n                    <Form.Group id=\"email\" className=\"px-3\">\r\n                        <Form.Label>Email</Form.Label>\r\n                        <Form.Control type=\"email\" ref={emailRef} required defaultValue={currentUser.email} />\r\n                    </Form.Group>\r\n\r\n                    <Form.Group id=\"Password\" className=\"px-3\">\r\n                        <Form.Label>Password</Form.Label>\r\n                        <Form.Control type=\"password\" ref={PasswordRef} placeholder=\"leave blank to keep same\" />\r\n                    </Form.Group>\r\n\r\n                    <Form.Group id=\"password-confirm\" className=\"px-3\">\r\n                        <Form.Label>Password Confirmation</Form.Label>\r\n                        <Form.Control type=\"password\" ref={passwordConfirmRef} placeholder=\"leave blank to keep same\" />\r\n                    </Form.Group>\r\n\r\n                    <Button disabled={loading} className=\"w-100 mt-3\" type=\"submit\">\r\n                        Update\r\n                    </Button>\r\n                </Form>\r\n            </Card>\r\n            <div className=\"w-100 text-center mt-2\">\r\n               <Link to=\"/firebase-react-auth\">Cancel</Link>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n","import React from \"react\";\nimport { Container } from \"react-bootstrap\";\nimport Signup from \"./Signup\";\nimport { AuthProvider } from \"../context/AuthContext\";\nimport Dashboard from \"./Dashboard\";\nimport Login from './Login'\nimport ForgotPassword from \"./ForgotPassword\";\n\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\"\nimport PrivateRoute from \"./PrivateRoute\";\nimport UpdateProfile from \"./UpdateProfile\";\n\nfunction App() {\n  return (\n\n    <Container className=\"d-flex align-items-center justify-content-center\"\n      style={{ minHeight: \"100vh\" }}>\n      <div className=\"w-100\" style={{ maxWidth: \"400px\" }}>\n\n        <Router>\n          <AuthProvider>\n\n          <Switch>\n          <PrivateRoute exact path=\"/firebase-react-auth/\" component={Dashboard}/>\n          <PrivateRoute exact path=\"/firebase-react-auth/update-profile\" component={UpdateProfile}/>\n            <Route path=\"/firebase-react-auth/signup\" component={Signup} />\n            <Route path=\"/firebase-react-auth/login\" component={Login} />\n            <Route path=\"/firebase-react-auth/forgot-password\" component={ForgotPassword} />\n          \n           \n          </Switch>\n          </AuthProvider>\n        </Router>\n\n     \n\n\n      </div>\n    </Container>\n\n\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}